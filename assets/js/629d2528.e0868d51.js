"use strict";(self.webpackChunkneo_dev_portal=self.webpackChunkneo_dev_portal||[]).push([[6941],{3905:function(e,n,t){t.d(n,{Zo:function(){return i},kt:function(){return m}});var r=t(67294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},l=Object.keys(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)t=l[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},i=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},u=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,l=e.originalType,p=e.parentName,i=s(e,["components","mdxType","originalType","parentName"]),u=c(t),m=a,k=u["".concat(p,".").concat(m)]||u[m]||d[m]||l;return t?r.createElement(k,o(o({ref:n},i),{},{components:t})):r.createElement(k,o({ref:n},i))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var l=t.length,o=new Array(l);o[0]=u;var s={};for(var p in n)hasOwnProperty.call(n,p)&&(s[p]=n[p]);s.originalType=e,s.mdxType="string"==typeof e?e:a,o[1]=s;for(var c=2;c<l;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}u.displayName="MDXCreateElement"},62034:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return s},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return i},default:function(){return u}});var r=t(87462),a=t(63366),l=(t(67294),t(3905)),o=["components"],s={},p="setRecord",c={unversionedId:"n3/Advances/neons/api/setRecord",id:"n3/Advances/neons/api/setRecord",isDocsHomePage:!1,title:"setRecord",description:"Sets record for the second-level domain or its subdomains. Both the owner and administrator can set record.",source:"@site/docs/n3/Advances/neons/api/setRecord.md",sourceDirName:"n3/Advances/neons/api",slug:"/n3/Advances/neons/api/setRecord",permalink:"/website/docs/n3/Advances/neons/api/setRecord",editUrl:"https://github.com/neo-project/neo-dev-portal/blob/master/docs/n3/Advances/neons/api/setRecord.md",tags:[],version:"current",lastUpdatedBy:"Celia18305",frontMatter:{},sidebar:"docs",previous:{title:"setPrice",permalink:"/website/docs/n3/Advances/neons/api/setPrice"},next:{title:"tokens",permalink:"/website/docs/n3/Advances/neons/api/tokens"}},i=[{value:"Parameters",id:"parameters",children:[]},{value:"Example",id:"example",children:[]}],d={toc:i};function u(e){var n=e.components,t=(0,a.Z)(e,o);return(0,l.kt)("wrapper",(0,r.Z)({},d,t,{components:n,mdxType:"MDXLayout"}),(0,l.kt)("h1",{id:"setrecord"},"setRecord"),(0,l.kt)("p",null,"Sets record for the second-level domain or its subdomains. Both the owner and administrator can set record. "),(0,l.kt)("p",null,"This requires the owner or the administrator's signature, if the domain is expired, it's not allowed to set record."),(0,l.kt)("h3",{id:"parameters"},"Parameters"),(0,l.kt)("table",null,(0,l.kt)("thead",{parentName:"table"},(0,l.kt)("tr",{parentName:"thead"},(0,l.kt)("th",{parentName:"tr",align:"left"},"Name"),(0,l.kt)("th",{parentName:"tr",align:null},"Type"),(0,l.kt)("th",{parentName:"tr",align:null},"Description"),(0,l.kt)("th",{parentName:"tr",align:null},"Required"))),(0,l.kt)("tbody",{parentName:"table"},(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"name"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},'The second-level domain, e.g. "test.neo", or subdomains, "pay.test.neo"'),(0,l.kt)("td",{parentName:"tr",align:null},"Required")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"type"),(0,l.kt)("td",{parentName:"tr",align:null},"Integer"),(0,l.kt)("td",{parentName:"tr",align:null},"Available types are:",(0,l.kt)("br",null),"1 - IPV4 address record",(0,l.kt)("br",null),"5 - Canonical name record",(0,l.kt)("br",null),"16 - Text record",(0,l.kt)("br",null),"28 - IPV6 address record"),(0,l.kt)("td",{parentName:"tr",align:null},"Required")),(0,l.kt)("tr",{parentName:"tbody"},(0,l.kt)("td",{parentName:"tr",align:"left"},"data"),(0,l.kt)("td",{parentName:"tr",align:null},"String"),(0,l.kt)("td",{parentName:"tr",align:null},"The corresponding data"),(0,l.kt)("td",{parentName:"tr",align:null},"Required")))),(0,l.kt)("h3",{id:"example"},"Example"),(0,l.kt)("h5",{id:"example-1-set-ipv4-address-record"},"Example #1 Set IPV4 address record"),(0,l.kt)("p",null,"The following ipv4 addresses will be rejected:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"0.x.x.x;  10.x.x.x; 127.x.x.x; >=224.x.x.x")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"169.254.x.x")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"172.(16~31).x.x")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"192.168.x.x")),(0,l.kt)("li",{parentName:"ul"},(0,l.kt)("p",{parentName:"li"},"x.x.0.x; x.x.255.x"))),(0,l.kt)("p",null,"Request body #1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'curl --request POST \\\n  --url http://localhost:20332/ \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "jsonrpc": "2.0",\n  "method": "invokefunction",\n  "params": [ "0x538355b776538a5da0b2a08c139b9900b9c0cbb6", "setRecord",\n                         [\n                             {\n                                 "type":"String","value":"flamincome.neo"\n                             },{"type":"Integer","value":"1"},{"type":"String","value":"40.122.161.90"}\n                         ],\n    [\n      {\n        "account": "NV1butKWMZSpWhBGU7PyP5Qe81Wq3zDkHP",\n        "scopes": "CalledByEntry"\n      }\n    ]\n],\n  "id": 1\n}\n\'\n')),(0,l.kt)("p",null,"Response body #1"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'{\n    "jsonrpc": "2.0",\n    "id": 1,\n    "result": {\n        "script": "DA00MC4xMjIuMTYxLjkwEQwOZmxhbWluY29tZS5uZW8TwB8MCXNldFJlY29yZAwUtsvAuQCZmxOMoLKgXYpTdrdVg1NBYn1bUg==",\n        "state": "HALT",\n        "gasconsumed": "3230715",\n        "exception": null,\n        "stack": [\n            {\n                "type": "Any"\n            }\n        ]\n    }\n}\n')),(0,l.kt)("h5",{id:"example-2-set-cname-record"},"Example #2 Set CNAME record"),(0,l.kt)("p",null,"The cname string must meet the following requirements:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"The length is greater than 3, and smaller than 255"),(0,l.kt)("li",{parentName:"ul"},"Its format is x.x.x"),(0,l.kt)("li",{parentName:"ul"},"Characters are combinations of numbers and Alphabet characters.")),(0,l.kt)("p",null,"Request body #2"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'curl --request POST \\\n  --url http://localhost:20332/ \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "jsonrpc": "2.0",\n  "method": "invokefunction",\n  "params": [ "0x538355b776538a5da0b2a08c139b9900b9c0cbb6", "setRecord",\n                         [\n                             {\n                                 "type":"String","value":"flamincome.neo"\n                             },{"type":"Integer","value":"5"},{"type":"String","value":"alias2.neo"}\n                         ],\n    [\n      {\n        "account": "NV1butKWMZSpWhBGU7PyP5Qe81Wq3zDkHP",\n        "scopes": "CalledByEntry"\n      }\n    ]\n],\n  "id": 1\n}\n\'\n')),(0,l.kt)("p",null,"Response body #2"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'{\n    "jsonrpc": "2.0",\n    "id": 1,\n    "result": {\n        "script": "DAphbGlhczIubmVvFQwOZmxhbWluY29tZS5uZW8TwB8MCXNldFJlY29yZAwUtsvAuQCZmxOMoLKgXYpTdrdVg1NBYn1bUg==",\n        "state": "HALT",\n        "gasconsumed": "2858562",\n        "exception": null,\n        "stack": [\n            {\n                "type": "Any"\n            }\n        ]\n    }\n}\n')),(0,l.kt)("h5",{id:"example-3-set-text-record"},"Example #3 Set Text record"),(0,l.kt)("p",null,"It is random text string with the length limited to 255. Normally you can set it as N3 address."),(0,l.kt)("p",null,"Request body #3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'curl --request POST \\\n  --url http://localhost:20332/ \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "jsonrpc": "2.0",\n  "method": "invokefunction",\n  "params": [ "0x538355b776538a5da0b2a08c139b9900b9c0cbb6", "setRecord",\n                         [\n                             {\n                                 "type":"String","value":"flamincome.neo"\n                             },{"type":"Integer","value":"16"},{"type":"String","value":"NZgG83sFer1ciTy2LCjft4A4fiDuWg4XaB"}\n                         ],\n    [\n      {\n        "account": "NV1butKWMZSpWhBGU7PyP5Qe81Wq3zDkHP",\n        "scopes": "CalledByEntry"\n      }\n    ]\n],\n  "id": 1\n}\n\'\n')),(0,l.kt)("p",null,"Response body #3"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'{\n    "jsonrpc": "2.0",\n    "id": 1,\n    "result": {\n        "script": "DCJOWmdHODNzRmVyMWNpVHkyTENqZnQ0QTRmaUR1V2c0WGFCIAwOZmxhbWluY29tZS5uZW8TwB8MCXNldFJlY29yZAwUtsvAuQCZmxOMoLKgXYpTdrdVg1NBYn1bUg==",\n        "state": "HALT",\n        "gasconsumed": "2694027",\n        "exception": null,\n        "stack": [\n            {\n                "type": "Any"\n            }\n        ]\n    }\n}\n')),(0,l.kt)("h5",{id:"example-5-set-ipv6-record"},"Example #5 Set IPV6 record"),(0,l.kt)("p",null,"The compressed IPV6 address is supported, such as 2001:1db8:0:: The following IPV6 addresses will be rejected:"),(0,l.kt)("ul",null,(0,l.kt)("li",{parentName:"ul"},"Start with (<0x2000)"),(0,l.kt)("li",{parentName:"ul"},"Start with 0x2002 or 0x3ffe"),(0,l.kt)("li",{parentName:"ul"},"Start with (>0x3fff)"),(0,l.kt)("li",{parentName:"ul"},"0x2001:(<0x200 or 0xdb8)")),(0,l.kt)("p",null,"Request body #4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'curl --request POST \\\n  --url http://localhost:20332/ \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "jsonrpc": "2.0",\n  "method": "invokefunction",\n  "params": [ "0x538355b776538a5da0b2a08c139b9900b9c0cbb6", "setRecord",\n                         [\n                             {\n                                 "type":"String","value":"flamincome.neo"\n                             },{"type":"Integer","value":"28"},{"type":"String","value":"2001:1db8:3333:4444:5555:6666:7777:8888"}\n                         ],\n    [\n      {\n        "account": "NV1butKWMZSpWhBGU7PyP5Qe81Wq3zDkHP",\n        "scopes": "CalledByEntry"\n      }\n    ]\n],\n  "id": 1\n}\n\'\n')),(0,l.kt)("p",null,"Response body #4"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'{\n    "jsonrpc": "2.0",\n    "id": 1,\n    "result": {\n        "script": "DCcyMDAxOjFkYjg6MzMzMzo0NDQ0OjU1NTU6NjY2Njo3Nzc3Ojg4ODgAHAwOZmxhbWluY29tZS5uZW8TwB8MCXNldFJlY29yZAwUtsvAuQCZmxOMoLKgXYpTdrdVg1NBYn1bUg==",\n        "state": "HALT",\n        "gasconsumed": "3910838",\n        "exception": null,\n        "stack": [\n            {\n                "type": "Any"\n            }\n        ]\n    }\n}\n')),(0,l.kt)("h5",{id:"example-5-set-record-for-expired-domains"},"Example #5 Set record for expired domains"),(0,l.kt)("p",null,"Request body #5 "),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'curl --request POST \\\n  --url http://seed1t4.neo.org:20332/ \\\n  --header \'Content-Type: application/json\' \\\n  --data \'{\n  "jsonrpc": "2.0",\n  "method": "invokefunction",\n  "params": [ "0x538355b776538a5da0b2a08c139b9900b9c0cbb6", "setRecord",\n                         [\n                             {\n                                 "type":"String","value":"expired.neo"\n                             },{"type":"Integer","value":"1"},{"type":"String","value":"40.122.161.90"}\n                         ],\n    [\n      {\n        "account": "NMzaUBM56iumJ8pHfjjCuKsAepKxENkUqN",\n        "scopes": "CalledByEntry"\n      }\n    ]\n],\n  "id": 1\n}\n\'\n')),(0,l.kt)("p",null,"Response body #5"),(0,l.kt)("pre",null,(0,l.kt)("code",{parentName:"pre",className:"language-json5"},'{\n    "jsonrpc": "2.0",\n    "id": 1,\n    "result": {\n        "script": "DA00MC4xMjIuMTYxLjkwEQwLZXhwaXJlZC5uZW8TwB8MCXNldFJlY29yZAwUtsvAuQCZmxOMoLKgXYpTdrdVg1NBYn1bUg==",\n        "state": "FAULT",\n        "gasconsumed": "1830252",\n        "exception": "An unhandled exception was thrown. The name has expired.",\n        "stack": []\n    }\n}\n')))}u.isMDXComponent=!0}}]);