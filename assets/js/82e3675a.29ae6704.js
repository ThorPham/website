"use strict";(self.webpackChunkneo_dev_portal=self.webpackChunkneo_dev_portal||[]).push([[8727],{3905:function(t,e,n){n.d(e,{Zo:function(){return c},kt:function(){return p}});var a=n(67294);function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function o(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function l(t,e){if(null==t)return{};var n,a,r=function(t,e){if(null==t)return{};var n,a,r={},i=Object.keys(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var s=a.createContext({}),d=function(t){var e=a.useContext(s),n=e;return t&&(n="function"==typeof t?t(e):o(o({},e),t)),n},c=function(t){var e=d(t.components);return a.createElement(s.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},m=a.forwardRef((function(t,e){var n=t.components,r=t.mdxType,i=t.originalType,s=t.parentName,c=l(t,["components","mdxType","originalType","parentName"]),m=d(n),p=r,h=m["".concat(s,".").concat(p)]||m[p]||u[p]||i;return n?a.createElement(h,o(o({ref:e},c),{},{components:n})):a.createElement(h,o({ref:e},c))}));function p(t,e){var n=arguments,r=e&&e.mdxType;if("string"==typeof t||r){var i=n.length,o=new Array(i);o[0]=m;var l={};for(var s in e)hasOwnProperty.call(e,s)&&(l[s]=e[s]);l.originalType=t,l.mdxType="string"==typeof t?t:r,o[1]=l;for(var d=2;d<i;d++)o[d]=n[d];return a.createElement.apply(null,o)}return a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},61500:function(t,e,n){n.r(e),n.d(e,{frontMatter:function(){return l},contentTitle:function(){return s},metadata:function(){return d},toc:function(){return c},default:function(){return m}});var a=n(87462),r=n(63366),i=(n(67294),n(3905)),o=["components"],l={sidebar_label:"Distributing GAS to Users",sidebar_position:4},s="Distributing GAS to Users",d={unversionedId:"n3/exchange/gas",id:"n3/exchange/gas",isDocsHomePage:!1,title:"Distributing GAS to Users",description:"The exchange can determine whether to distribute GAS to users. GAS is used to pay to the NEO blockchain for recording and additional services.",source:"@site/docs/n3/exchange/gas.md",sourceDirName:"n3/exchange",slug:"/n3/exchange/gas",permalink:"/website/docs/n3/exchange/gas",editUrl:"https://github.com/neo-project/neo-dev-portal/blob/master/docs/n3/exchange/gas.md",tags:[],version:"current",lastUpdatedBy:"Apisit Toompkadee",sidebarPosition:4,frontMatter:{sidebar_label:"Distributing GAS to Users",sidebar_position:4},sidebar:"docs",previous:{title:"Using Neo-CLI",permalink:"/website/docs/n3/exchange/client"},next:{title:"Dealing with Asset Transactions",permalink:"/website/docs/n3/exchange/transaction"}},c=[{value:"What is GAS ?",id:"what-is-gas-",children:[]},{value:"Calculating the claimed GAS amount",id:"calculating-the-claimed-gas-amount",children:[]},{value:"Distributing GAS to Users",id:"distributing-gas-to-users-1",children:[]},{value:"RPC methods",id:"rpc-methods",children:[]},{value:"Claiming GAS",id:"claiming-gas",children:[]}],u={toc:c};function m(t){var e=t.components,l=(0,r.Z)(t,o);return(0,i.kt)("wrapper",(0,a.Z)({},u,l,{components:e,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"distributing-gas-to-users"},"Distributing GAS to Users"),(0,i.kt)("p",null,"The exchange can determine whether to distribute GAS to users. GAS is used to pay to the NEO blockchain for recording and additional services. "),(0,i.kt)("h2",{id:"what-is-gas-"},"What is GAS ?"),(0,i.kt)("p",null,"GAS represents the right to use the Neo Blockchain. Once NEO is acquired, GAS will be generated in the system following the algorithms."),(0,i.kt)("p",null,"In Neo N3 every time a NEO transfer transaction occurs in the address, GASs generated since last time NEO transfer transaction are claimed automatically."),(0,i.kt)("h2",{id:"calculating-the-claimed-gas-amount"},"Calculating the claimed GAS amount"),(0,i.kt)("p",null,"Claimed ",(0,i.kt)("em",{parentName:"p"},"GAS = f(neo_amount, \u0394t_const)")),(0,i.kt)("p",null,"\u0394t_const = t_end - t_start"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"t_end = the current time that Neo is transferred into or out of the address. "),(0,i.kt)("li",{parentName:"ul"},"t_start = the last time that Neo was transferred into or out of the address. ")),(0,i.kt)("p",null,"\u0394t_const is fixed, thus the claimed Gas is of a fixed amount too. And this amount depends on the amount of Neo held by the user and the duration between the moments that the user transferred this amount of Neo into and out of his or her address. "),(0,i.kt)("h2",{id:"distributing-gas-to-users-1"},"Distributing GAS to Users"),(0,i.kt)("p",null,"Suppose all the exchange addresses are stored in one wallet, the following chart demonstrates the procedure and computational formula how the exchange distributes GAS to the user A."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"gasflow_en",src:n(94042).Z})),(0,i.kt)("p",null,"The shorter the snapshot interval, the more precise the calculation is. If the snapshot interval is not uniform, use the weighted average calculation method."),(0,i.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,i.kt)("div",{parentName:"div",className:"admonition-heading"},(0,i.kt)("h5",{parentName:"div"},(0,i.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,i.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,i.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,i.kt)("div",{parentName:"div",className:"admonition-content"},(0,i.kt)("p",{parentName:"div"},"In NEO N3, since exchange users cannot participate in voting, the fixed income is 10% of the total amount of GAS to be claimed. For details refer to ",(0,i.kt)("a",{parentName:"p",href:"../foundation/governance#gas-distribution-rule"},"GAS distribution rule"),"."))),(0,i.kt)("h2",{id:"rpc-methods"},"RPC methods"),(0,i.kt)("p",null,"The following RPC method can be used to help exchanges query users' GAS information. For details, click the desired method link in the table below. "),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"Method"),(0,i.kt)("th",{parentName:"tr",align:null},"Description"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("a",{parentName:"td",href:"/website/docs/n3/reference/rpc/latest-version/api/getunclaimedgas"},"getunclaimedgas")),(0,i.kt)("td",{parentName:"tr",align:null},"Returns the unclaimed GAS amount in the current wallet.")))),(0,i.kt)("h2",{id:"claiming-gas"},"Claiming GAS"),(0,i.kt)("p",null,"GAS is claimed automatically after the user transfers NEO in or out of the address. For example, suppose you have NEO in address A without claiming GAS, when you transfer NEO to yourself (i.e. address A) then GAS is claimed automatically."),(0,i.kt)("p",null,"The following table lists the GAS claiming steps and corresponding commands."),(0,i.kt)("table",null,(0,i.kt)("thead",{parentName:"table"},(0,i.kt)("tr",{parentName:"thead"},(0,i.kt)("th",{parentName:"tr",align:null},"#"),(0,i.kt)("th",{parentName:"tr",align:"left"},"Steps"),(0,i.kt)("th",{parentName:"tr",align:null},"Command"))),(0,i.kt)("tbody",{parentName:"table"},(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"1"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Run Neo-CLI"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"dotnet neo-cli.dll"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"2"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Check the client version"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"version"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"3"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Check the synchronized height of the client ( Height: height/header height, Nodes: amount of connected nodes)."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"show state"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"4"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Open a wallet"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"open wallet /home/NeoNode/test.json"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"5"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Check the addresses and assets in the wallet"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"list asset"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"6"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Check the GAS balance in the wallet"),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"show gas"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"7"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Transfer NEO to your address\uff08e.g. NTdzVdQ8SmFobD1XWCA1fR9tQr7gFv1SXf\uff09 to claim the GAS automatically."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"send neo NTdzVdQ8SmFobD1XWCA1fR9tQr7gFv1SXf 1"))),(0,i.kt)("tr",{parentName:"tbody"},(0,i.kt)("td",{parentName:"tr",align:null},"8"),(0,i.kt)("td",{parentName:"tr",align:"left"},"Check the asset balance again."),(0,i.kt)("td",{parentName:"tr",align:null},(0,i.kt)("inlineCode",{parentName:"td"},"list asset"))))))}m.isMDXComponent=!0},94042:function(t,e,n){e.Z=n.p+"assets/images/gasflow_en-73d49e0acf4929d665943be02f5bdb92.png"}}]);